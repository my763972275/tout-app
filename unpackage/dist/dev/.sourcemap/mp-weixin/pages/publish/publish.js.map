{"version":3,"sources":["uni-app:///main.js","webpack:///F:/uni-app/tout-app/pages/publish/publish.vue?b977","webpack:///F:/uni-app/tout-app/pages/publish/publish.vue?a6ad","webpack:///F:/uni-app/tout-app/pages/publish/publish.vue?ba8f","webpack:///F:/uni-app/tout-app/pages/publish/publish.vue?bea7","uni-app:///pages/publish/publish.vue","webpack:///F:/uni-app/tout-app/pages/publish/publish.vue?a738","webpack:///F:/uni-app/tout-app/pages/publish/publish.vue?b78a"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACqC;;;AAG3F;AACgL;AAChL,gBAAgB,yLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAwpB,CAAgB,6qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoE5qB;AACA;AACA;;;AAGA,4E;AACA;AACA,iBADA;AAEA;AACA,0BADA;AAEA,gBAFA,EAFA;;AAMA,MANA,kBAMA;AACA;AACA,YADA;AAEA,iBAFA;AAGA,mBAHA;AAIA,kBAJA;AAKA,gBALA;AAMA,gBANA;AAOA,yBAPA;AAQA,mBARA;AASA,kBATA;AAUA,gBAVA;AAWA;AACA;AACA,kBADA,EADA;;AAIA;AACA,kBADA,EAJA;;AAOA;AACA,oBADA,EAPA,CAXA;;;AAsBA,kBAtBA;;AAwBA,GA/BA;AAgCA,SAhCA,qBAgCA;AACA;AACA,GAlCA;AAmCA;AACA,WADA,mBACA,KADA,EACA;AACA;AACA,KAHA;AAIA;AACA,UALA,kBAKA,KALA,EAKA;AACA;AACA;AACA,KARA;AASA;AACA,aAVA,uBAUA;AACA;AACA,oBADA;AAEA,wCAFA;;AAIA;AACA,gBADA,EACA;AACA,4CAFA,EAEA;AACA,6BAHA,EAGA;AACA;AACA;AACA;AACA,SAPA;;AASA,KAxBA;AAyBA;AACA,eA1BA,yBA0BA;AACA;AACA;AACA,oBADA;AAEA,wCAFA;;AAIA;AACA,gBADA;AAEA,uBAFA;AAGA,uCAHA;AAIA;AACA;AACA;AACA;AACA,SARA;;AAUA,KA1CA;AA2CA;AACA,aA5CA,qBA4CA,KA5CA,EA4CA;AACA;AACA,KA9CA;AA+CA;AACA,eAhDA,yBAgDA;AACA;AACA;AACA,KAnDA;AAoDA;AACA,eArDA,yBAqDA;AACA;AACA,UADA,CACA;AACA;AACA,OAHA;AAIA,WAJA,CAIA;AACA;AACA;AACA,OAPA;AAQA,KA9DA;AA+DA;AACA,kBAhEA,4BAgEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,sBADA;AAEA,oBAFA;;AAIA;AACA;AACA,KA5EA;AA6EA;AACA,YA9EA,sBA8EA;AACA;AACA;AACA,UADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,OAfA;AAgBA,WAhBA,CAgBA;AACA;AACA,OAlBA;AAmBA,KAnGA;AAoGA;AACA,YArGA,sBAqGA;;AAEA,oCAFA,SAEA,SAFA;;AAIA,mCAJA;AAKA,sCALA,SAKA,WALA;;;AAQA,qBARA,GAQA;AACA,gEADA;AAEA,yCAFA;AAGA,0CAHA;AAIA,kCAJA;AAKA,oCALA;AAMA,yCANA;AAOA,6CAPA;AAQA,2CARA;AASA,uCATA;AAUA,4CAVA,EARA;;AAoBA;AACA;AACA,oBADA,CACA;AACA;AACA;AACA;AACA;AACA,+CADA;;AAGA,iBARA;AASA,qBATA,CASA;AACA;AACA,iBAXA,EArBA;AAiCA,KAtIA;AAuIA;AACA,aAxIA,uBAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,WAPA;AAQA,eARA,CAQA;AACA;AACA,WAVA;AAWA,SAhBA;AAiBA,OAlBA;AAmBA,KA9JA;AA+JA;AACA,eAhKA,yBAgKA;AACA;AACA;AACA;AACA;AACA;AACA,YADA,CACA;AACA;AACA,SAHA;AAIA,aAJA,CAIA;AACA;AACA,SANA;;AAQA,OAZA;AAaA,KA9KA,EAnCA,E;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAw9B,CAAgB,k9BAAG,EAAC,C;;;;;;;;;;;ACA5+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/publish/publish.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/publish/publish.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./publish.vue?vue&type=template&id=177a8126&scoped=true&\"\nvar renderjs\nimport script from \"./publish.vue?vue&type=script&lang=js&\"\nexport * from \"./publish.vue?vue&type=script&lang=js&\"\nimport style0 from \"./publish.vue?vue&type=style&index=0&id=177a8126&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"177a8126\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/publish/publish.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publish.vue?vue&type=template&id=177a8126&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publish.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publish.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<view class=\"travels\">\r\n\t\t\t<!-- 分类 -->\r\n\t\t\t<!-- HBuilderx 向左缩进快捷键 shift+Tab 向右缩进 ctrl+Tab -->\r\n\t\t\t<view class=\"classify-view\">\r\n\t\t\t\t<view class=\"classify-text\">分类</view>\r\n\t\t\t\t<block v-for=\"(item,index) in fication\" :key =\"index\">\r\n\t\t\t\t\t<view class=\"classify\">\r\n\t\t\t\t\t\t<text :class=\"{'activetext':index == num}\" @click=\"menubtn(index)\">{{item.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<!-- 标题 -->\r\n\t\t\t<view class=\"travels-title\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"给旅行日记起个标题吧\" class=\"place-text\" v-model=\"titledata\">\r\n\t\t\t</view>\r\n\t\t\t<!-- 描述 -->\r\n\t\t\t<view class=\"travels-describe\">\r\n\t\t\t\t<textarea  placeholder=\"描述下你的旅行心得,相助更多旅行的人\" v-model=\"tipsdata\"/>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 上传图片 -->\r\n\t\t<view class=\"travels-image\">\r\n\t\t\t<view class=\"topimg\">\r\n\t\t\t\t<image src=\"../../static/camera.png\" mode=\"widthFix\" @click=\"uploadImg\"></image>\r\n\t\t\t\t<text>上传图片</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- 九宫格 -->\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<block v-for=\"(item,index) in topimg\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"content-img\">\r\n\t\t\t\t\t\t<image :src=\"item\" mode=\"aspectFill\" class=\"uploadimg\" @click=\"preImg(index)\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/clear.png\" mode=\"widthFix\" class=\"deleteimg\" @click=\"deleteImg(index)\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 上传视频 -->\r\n\t\t<view class=\"travels-video\">\r\n\t\t\t<view class=\"topimg\">\r\n\t\t\t\t<image src=\"../../static/video.png\" mode=\"widthFix\" @click=\"uploadVideo\"></image>\r\n\t\t\t\t<text>上传视频</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uploadvideo\" v-if=\"uploadvideos\">\r\n\t\t\t\t<!-- poster参数设置视频封面 -->\r\n\t\t\t\t<video :src=\"videos\" controls objectFit=\"cover\"></video>\r\n\t\t\t\t<!-- <view class=\"pause\"></view> -->\r\n\t\t\t\t<image class=\"deleteimg\" @click=\"deleteVideo\" src=\"../../static/clear.png\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 定位 -->\r\n\t\t<view class=\"address\">\r\n\t\t\t<view class=\"address-text\">你在哪里</view>\r\n\t\t\t<view class=\"address-site\">\r\n\t\t\t\t<image src=\"../../static/map.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text>{{address}}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<view class=\"publish\" @click=\"publishContext\">发布</view>\r\n\t\t<HMmessages ref=\"HMmessages\" @complete=\"HMmessages = $refs.HMmessages\"></HMmessages>\r\n\t\t<!-- 登录模态框 -->\r\n\t\t<Modal ref=\"modal\"></Modal>\r\n\t</view>\n</template>\n\n<script>\r\n\timport { previewImg,timer } from '../../commons/js/common.js';\r\n\timport {mapState} from 'vuex';\r\n\timport {locationData} from '../../commons/js/list.js';\r\n\timport HMmessages from \"@/element/HM-messages/HM-messages.vue\"\r\n\timport Modal from '../../element/modal.vue';\r\n\timport {home,addDatabase,uploadFiles} from '../../commons/js/cloudFun.js'\n\texport default {\r\n\t\tname:'travels',\r\n\t\tcomponents:{\r\n\t\t\tHMmessages,\r\n\t\t\tModal\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tnum:0,\r\n\t\t\t\taddress:'',\r\n\t\t\t\ttitledata:'',\r\n\t\t\t\ttipsdata:'',\r\n\t\t\t\ttopimg:[],\r\n\t\t\t\tvideos:'',\r\n\t\t\t\tuploadvideos:false,\r\n\t\t\t\tavatarUrl:'',\r\n\t\t\t\tnickName:'',\r\n\t\t\t\topenid:'',\r\n\t\t\t\tfication:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:\"景点\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:\"美食\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:\"网红打卡\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tformData:{}\n\t\t\t}\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getLocation()\r\n\t\t},\n\t\tmethods: {\n\t\t\tmenubtn(index){\r\n\t\t\t\tthis.num = index\r\n\t\t\t},\r\n\t\t\t// 图片预览\r\n\t\t\tpreImg(index){\r\n\t\t\t\t// 预览图片\r\n\t\t\t\tpreviewImg(this.topimg,index)\r\n\t\t\t},\r\n\t\t\t// 上传图片\r\n\t\t\tuploadImg(){\r\n\t\t\t\twx.showLoading({\r\n\t\t\t\t\ttitle:'上传中',\r\n\t\t\t\t\ticon:'../../static/loading.svg'\r\n\t\t\t\t})\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 6, //默认9\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t wx.hideLoading();\r\n\t\t\t\t\t this.topimg = [...this.topimg,...res.tempFilePaths];\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传视频\r\n\t\t\tuploadVideo(){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\twx.showLoading({\r\n\t\t\t\t\ttitle:'上传中',\r\n\t\t\t\t\ticon:'../../static/loading.svg'\r\n\t\t\t\t})\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tmaxDuration:20,\r\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\twx.hideLoading();\r\n\t\t\t\t\t\tself.uploadvideos = true;\r\n\t\t\t\t\t\tself.videos = res.tempFilePath;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 删除图片\r\n\t\t\tdeleteImg(index){\r\n\t\t\t\tthis.topimg.splice(index,1);\r\n\t\t\t},\r\n\t\t\t// 删除视频\r\n\t\t\tdeleteVideo(){\r\n\t\t\t\tthis.videos = '';\r\n\t\t\t\tthis.uploadvideos = false;\r\n\t\t\t},\r\n\t\t\t// 获取当前位置\r\n\t\t\tgetLocation(){\r\n\t\t\t\tlocationData()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.address = res.result.ad_info.city\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t// this.addressVal = '无锡市'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 必填项校验提示\r\n\t\t\tpublishContext(){\r\n\t\t\t\tif(this.titledata == ''){\r\n\t\t\t\t\tthis.HMmessages.show('标题必填',{icon:'error',iconColor:'white',fontColor:'white',background:\"rgba(255,0,51,0.8)\"})\r\n\t\t\t\t}else if(this.tipsdata == ''){\r\n\t\t\t\t\tthis.HMmessages.show('描述必填',{icon:'error',iconColor:'white',fontColor:'white',background:\"rgba(255,0,51,0.8)\"})\r\n\t\t\t\t}else{\r\n\t\t\t\t\twx.showLoading({\r\n\t\t\t\t\t\ttitle:'发布中',\r\n\t\t\t\t\t\tmask:true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.userInfo()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 判断用户是否登录\r\n\t\t\tuserInfo(){\r\n\t\t\t\t// 请求数据库查看用户是否存在，存在就是登录，反之未登录\r\n\t\t\t\thome('user')\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\t// 用户没有登录\r\n\t\t\t\t\tif(res.length == 0){\r\n\t\t\t\t\t\tlet message = '请登陆后再操作'\r\n\t\t\t\t\t\t// dom更新循环结束之后的延迟回调\r\n\t\t\t\t\t\tthis.$nextTick(() =>{\r\n\t\t\t\t\t\t\tthis.$refs.modal.init(message)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.avatarUrl = res[0].avatarUrl;\r\n\t\t\t\t\t\tthis.nickName = res[0].nickName;\r\n\t\t\t\t\t\tthis.openid = res[0]._openid;\r\n\t\t\t\t\t\tthis.userdata()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 用户上传数据到数据库 1.先上传图片到云存储 2.上传视频到云存储 3.上传所有数据到数据库\r\n\t\t\tasync userdata(){\r\n\t\t\t\t// 先将图片上传到云存储\r\n\t\t\t\tlet staticimg = await this.staticImg();\r\n\t\t\t\t// 将视频上传到云存储\r\n\t\t\t\tif(this.videos != ''){\r\n\t\t\t\t\tvar staticvideo = await this.staticVideo();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet users = {\r\n\t\t\t\t\tclassifydata:this.fication[this.num].name,\r\n\t\t\t\t\ttitle:this.titledata,\r\n\t\t\t\t\tcontent:this.tipsdata,\r\n\t\t\t\t\talbum:staticimg,\r\n\t\t\t\t\tvideo:staticvideo,\r\n\t\t\t\t\taddress:this.address,\r\n\t\t\t\t\tavatarUrl:this.avatarUrl,\r\n\t\t\t\t\tnickName:this.nickName,\r\n\t\t\t\t\topenid:this.openid,\r\n\t\t\t\t\ttime:timer()\r\n\t\t\t\t}\r\n\t\t\t\t// 上传参数到云数据库\r\n\t\t\t\taddDatabase(users,'publish')\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.$store.commit('routmuta',true)\r\n\t\t\t\t    wx.hideLoading();\r\n\t\t\t\t\tthis.HMmessages.show('发布成功',{icon:'success',iconColor:'black',fontColor:'black',background:\"rgba(0,255,20,0.8)\"})\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl:'../strategy/strategy'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传图片到云数据库\r\n\t\t\tstaticImg(){\r\n\t\t\t\t// 把上传成功返回的图片放到数组里\r\n\t\t\t\tvar imgFileID = []\r\n\t\t\t\treturn new Promise((resolve,reject) => {\r\n\t\t\t\t\tthis.topimg.forEach(item => {\r\n\t\t\t\t\t\t// 随机字符串拼接，防止图片url被重名覆盖\r\n\t\t\t\t\t\tlet imgion = item.lastIndexOf('.')\r\n\t\t\t\t\t\tlet eximg = item.slice(imgion);\r\n\t\t\t\t\t\tlet cloudpath =  Date.now() + Math.floor(Math.random(0,1) * 10000000) + eximg;\r\n\t\t\t\t\t\tuploadFiles(cloudpath,item,'static')\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\timgFileID.push(res);\r\n\t\t\t\t\t\t\t// 判断云存储返回的图片是否和用户上传的图片一样多\r\n\t\t\t\t\t\t\tif(imgFileID.length == this.topimg.length){\r\n\t\t\t\t\t\t\t\tresolve(imgFileID)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传视频到云数据库\r\n\t\t\tstaticVideo(){\r\n\t\t\t\treturn new Promise((resolve,reject) => {\r\n\t\t\t\t\tlet videoion = this.videos.lastIndexOf('.')\r\n\t\t\t\t\tlet exvideo = this.videos.slice(videoion);\r\n\t\t\t\t\tlet videopath =  Date.now() + Math.floor(Math.random(0,1) * 10000000) + exvideo;\r\n\t\t\t\t\t\tuploadFiles(videopath,this.videos,'videos')\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n.travels{\r\n\tpadding:10upx 20upx;\r\n}\r\n.classify text{\r\n\tdisplay: block;\r\n\tfont-size:27upx;\r\n\tcolor:#14181e;\r\n\tbackground:#f7f7f7;\r\n\tpadding:10upx 20upx;\r\n\tborder-radius: 20upx;\r\n\tmargin:0 30upx;\r\n}\r\n.classify{\r\n\tdisplay: flex;\r\n}\r\n.classify-text{\r\n\tfont-size:30upx;\r\n\tcolor:#14181e;\r\n\tfont-weight:bold;\r\n}\r\n.classify-view{\r\n\tdisplay:flex;\r\n\tjustify-content: flex-start;\r\n\talign-items: center;\r\n}\r\n.activetext{\r\n\tbackground:#ffdd00 !important;\r\n}\r\n.place-text{\r\n\tcolor:#808080 !important;\r\n\tfont-size:30upx;\r\n}\r\n.travels-title{\r\n\tmargin:40upx 0;\r\n}\r\n.travels-describe textarea{\r\n\twidth:100%;\r\n\tcolor:#808080 !important;\r\n\tfont-size:30upx;\r\n}\r\n.topimg{\r\n\tpadding-left: 20upx;\r\n\tpadding-top:10upx;\r\n\twidth:150upx;\r\n\theight:150upx;\r\n\tborder-radius: 20upx;\r\n}\r\n.topimg image{\r\n\tdisplay:block;\r\n\twidth:80upx;\r\n\theight:80upx;\r\n}\r\n.topimg text{\r\n\ttext-align: center;\r\n\tfont-size:22upx;\r\n}\r\n.content{\r\n\tdisplay:flex;\r\n\tflex-wrap: wrap;\r\n\tmargin-left:4px;\r\n\tmargin-right: 4px;\r\n}\r\n.content-img{\r\n\twidth:calc((100% / 4) - 8px) !important;\r    margin:8upx;\r\n    height:176upx;\r\n\tposition:relative;\n}\r\n.uploadvideo{\r\n\tmargin:0 8upx;\r\n\tborder-radius: 5upx;\r\n}\r\n.uploadvideo video{\r\n\twidth:100%;\r\n\theight:400upx;\r\n\tposition:relative;\r\n\tborder-radius: 5upx;\r\n}\r\n.deleteimg{\r\n\tposition:absolute;\r\n\twidth:35upx;\r\n\theight: 35upx;\r\n\ttop:-15upx;\r\n\tright:-15upx;\r\n}\r\n.uploadimg{\r\n\twidth:100% !important;\r\n\theight:100% !important;\r\n\tborder-radius: 10upx;\n}\r\n/* 绘制播放三角形的写法 */\r\n.pause{\r\n\tposition:absolute;\r\n\twidth: 0;\r\n\theight: 0;\r\n\tborder-top: 50px solid transparent;\r\n\tborder-left: 100px solid #c0c0c0;\r\n\tborder-bottom: 50px solid transparent;\r\n}\r\n.publish{\r\n\twidth:100%;\r\n\theight:100upx;\r\n\tline-height: 100upx;\r\n\ttext-align: center;\r\n\tbackground: #ffdd00;\r\n\tposition:fixed;\r\n\tbottom:0;\r\n\tleft:0;\r\n\tright:0;\r\n\tz-index:999;\r\n\tfont-size:40upx;\r\n}\r\n.address-site{\r\n\tdisplay:flex;\r\n\talign-items: center;\r\n}\r\n.address-site image{\r\n\twidth:40upx;\r\n\theight:40upx;\r\n\tmargin-right:10upx;\r\n}\r\n.address-site text{\r\n\tfont-size: 30upx;\r\n\tcolor:#00a2ff;\r\n}\r\n.address-text{\r\n\tfont-size:30upx;\r\n\tcolor:#333;\r\n\tpadding-right:40upx;\r\n}\r\n.address{\r\n\tdisplay:flex;\r\n\tbackground:#f1f1f1;\r\n\tpadding:20upx 0 20upx 20upx;\r\n\tmargin-bottom:160upx;\r\n\tmargin-top:30upx;\r\n}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publish.vue?vue&type=style&index=0&id=177a8126&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publish.vue?vue&type=style&index=0&id=177a8126&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599229852393\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}